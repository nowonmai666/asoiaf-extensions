// ==UserScript==
// @name			asoiaf despoiler
// @version			2.0
// @description		Makes spoiler-tagged content visible on /r/asoiaf. 
// @namespace      http://nowonmai666.github.io/asoiaf-extensions/
// @match        http://www.reddit.com/r/asoiaf/*
// ==/UserScript==

function addGlobalStyle(css) {
    var head, style;
    head = document.getElementsByTagName('head')[0];
    if (!head) { return; }
    style = document.createElement('style');
    style.type = 'text/css';
    style.innerHTML = css;
    head.appendChild(style);
}

addGlobalStyle("a[href$='/spoiler']{background:#CCC!important;color:#000!important}a[href$='/spoiler']:hover{color:#000!important;text-decoration:none!important}a[href='/s'],a[href='/s']:hover{color:rgba(255,0,0,.6)!important;background:#eee!important;background-image:none!important;background-repeat:no-repeat;padding:0!important;cursor:text;width:0;text-decoration:none!important}a[href='/s']::after,a[href='/s']:hover::after,a[href='/s']:active::after{content:attr(title);background:#eee!important;background-image:none!important;color:#900!important;text-decoration:none!important;padding:0 3px 0 5px!important}body,.content{background:#fff!important}.link{border:0!important;margin-bottom:16px!important}.domain a{color:#000!important}#sr-header-area{visibility:visible!important}.entry .buttons li a{visibility:visible!important}.res .author.moderator{padding:2px!important;background-color:transparent!important;border 1px solid #53a93f!important;border-radius:2px!important;color:#53a93f!important}.res .author.submitter{padding:1px 3px 1px 1px!important;background-color:rgba(71,122,173,1)!important;border-radius:3px!important;color:#fff!important}.linkflair-mod .linkflairlabel{background-color:transparent!important;color:rgba(62,128,47,.6)!important;border-radius:2px!important;border-color:rgba(62,128,47,.6)!important}.linkflair-all .linkflairlabel{background-color:transparent!important;color:rgba(71,122,173,.6)!important;border-radius:2px!important;border-color:rgba(71,122,173,.6)!important}.linkflair-agot .linkflairlabel,.linkflair-acok .linkflairlabel,.linkflair-asos .linkflairlabel,.linkflair-affc .linkflairlabel,.linkflair-dae .linkflairlabel,.linkflair-none .linkflairlabel,.linkflair-adwd .linkflairlabel{background-color:transparent!important;border:1px solid rgba(215,61,50,.6)!important;color:rgba(215,61,50,.6)!important}blockquote p{padding-left:30px!important;color:#666}.usertext-edit{margin-top:20px!important}.comments-page .tagline a{letter-spacing:0!important}.tabmenu li a{font-size:16px!important}div.md{background-image:none!important;padding-top:0!important}body,.error,#sr-header-area,#sr-header-area a,#sr-header-area .dropdown.srdrop,.drop-choices,#header .tabmenu,.tabmenu li a,.tabmenu li.selected a,.side,.morelink a,.titlebox h1 a,.fancy-toggle-button .active,.titlebox .md,#search input[type=text],.sidecontentbox .title h1,.sidecontentbox .content a,.sidecontentbox a.helplink,.link .title,.link .score,.link .usertext .md,.link .flat-list,.submit-page textarea,.roundfield input[type=url],.roundfield input[type=text],.login-form-side input[type=text],.login-form-side input[type=password],.linefield textarea,.linefield input[type=text],.flairlist .flaircell input[type=text],.linkinfo .shortlink input,.search-page #search input[type=text],.linkflairlabel,.flair,.wiki-page .wiki-page-content .md.wiki h1,.wiki-page .wiki-page-content .md.wiki p,.wiki-page .wiki-page-content .md.wiki .md.wiki blockquote,.stylesheet-customize-container textarea,.comments-page .tagline,.menuarea .spacer .drop-choices.lightdrop,.comments-page .comment .md,.comments-page textarea,.link .usertext .md h2,.comments-page .comment .md h2,.link .usertext .md h3,.comments-page .comment .md h3,.link .usertext .md h4,.comments-page .comment .md h4,.link .usertext .md h5,.comments-page .comment .md h5,.footer,.popup,body.res-nightmode,.pagename{font-family:'Myriad Pro','Source Sans Pro','Droid Sans',Verdana,Arial,sans-serif!important}");